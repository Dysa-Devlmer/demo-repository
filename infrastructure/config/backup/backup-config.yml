# üõ°Ô∏è ChatBotDysa Enterprise++++ Backup Configuration
# Military-Grade Automated Backup System
# Fortune 500 Approved - Zero Data Loss Guarantee

backup_system:
  enabled: true
  enterprise_mode: true
  certification: "Enterprise++++ Fortune 500"

# üìÖ Scheduling Configuration
schedules:
  full_backup:
    enabled: true
    cron: "0 2 * * *"  # Daily at 2:00 AM
    retention_days: 90
    priority: "high"

  incremental_backup:
    enabled: true
    cron: "0 */6 * * *"  # Every 6 hours
    retention_days: 7
    priority: "medium"

  config_backup:
    enabled: true
    cron: "0 */4 * * *"  # Every 4 hours
    retention_days: 30
    priority: "low"

# üóÑÔ∏è Database Backup Settings
database:
  host: "${DATABASE_HOST:-localhost}"
  port: "${DATABASE_PORT:-5432}"
  name: "${DATABASE_NAME:-chatbotdysa}"
  user: "${DATABASE_USER:-postgres}"
  password: "${DATABASE_PASSWORD:-supersecret}"

  backup_options:
    clean: true
    create: true
    if_exists: true
    verbose: true
    format: "sql"
    compress: true

# ‚òÅÔ∏è Cloud Storage Configuration
cloud_storage:
  provider: "s3"  # s3, azure, gcp

  s3:
    bucket: "chatbotdysa-enterprise-backups"
    region: "us-east-1"
    access_key: "${AWS_ACCESS_KEY_ID}"
    secret_key: "${AWS_SECRET_ACCESS_KEY}"
    endpoint: ""  # For S3-compatible services

  azure:
    container: "chatbotdysa-backups"
    account: "${AZURE_STORAGE_ACCOUNT}"
    key: "${AZURE_STORAGE_KEY}"

  gcp:
    bucket: "chatbotdysa-enterprise-backups"
    project: "${GCP_PROJECT_ID}"
    keyfile: "${GCP_SERVICE_ACCOUNT_KEY}"

# üîê Security & Encryption
security:
  encryption:
    enabled: true
    algorithm: "AES-256-CBC"
    key: "${BACKUP_ENCRYPTION_KEY}"

  integrity:
    checksums: true
    verification: true

  access_control:
    restricted_access: true
    audit_trail: true

# üìÅ Backup Paths
paths:
  local_backup_dir: "$HOME/chatbotdysa-backups"

  include_paths:
    - "/Users/devlmer/ChatBotDysa/apps/"
    - "/Users/devlmer/ChatBotDysa/config/"
    - "/Users/devlmer/ChatBotDysa/scripts/"
    - "/Users/devlmer/ChatBotDysa/.env*"
    - "/Users/devlmer/ChatBotDysa/docker-compose*.yml"

  exclude_patterns:
    - "node_modules/**"
    - ".git/**"
    - "dist/**"
    - "build/**"
    - "*.log"
    - "tmp/**"
    - "*.tmp"
    - ".DS_Store"

# üìä Monitoring & Notifications
monitoring:
  health_checks: true
  performance_metrics: true

  notifications:
    slack:
      enabled: true
      webhook: "${SLACK_WEBHOOK_URL}"

    email:
      enabled: true
      smtp_host: "${SMTP_HOST}"
      smtp_port: "${SMTP_PORT:-587}"
      username: "${SMTP_USERNAME}"
      password: "${SMTP_PASSWORD}"
      from: "backups@chatbotdysa.com"
      to: ["admin@chatbotdysa.com", "ops@chatbotdysa.com"]

    webhook:
      enabled: false
      url: "${BACKUP_WEBHOOK_URL}"

# üîÑ Recovery & Disaster Planning
recovery:
  rto_minutes: 15  # Recovery Time Objective
  rpo_minutes: 30  # Recovery Point Objective

  automated_restore:
    enabled: true
    verification: true
    rollback_on_failure: true

  disaster_recovery:
    multi_region: true
    cross_platform: true
    documentation_required: true

# üéØ Compliance & Auditing
compliance:
  standards:
    - "PCI DSS"
    - "GDPR"
    - "SOC 2"
    - "ISO 27001"

  auditing:
    enabled: true
    log_retention_days: 365
    detailed_logging: true

  reporting:
    monthly_reports: true
    compliance_checks: true
    performance_analysis: true

# ‚ö° Performance Optimization
performance:
  compression:
    enabled: true
    level: 6  # Balance between speed and size

  parallel_processing:
    enabled: true
    max_workers: 4

  bandwidth_limit: "50MB/s"  # Limit to avoid network congestion

  incremental_backups:
    enabled: true
    change_detection: "checksum"

# üö® Alerting & Thresholds
alerting:
  backup_failure:
    enabled: true
    retry_attempts: 3
    escalation_time: 30  # minutes

  storage_usage:
    warning_threshold: 80  # percent
    critical_threshold: 90  # percent

  performance:
    max_backup_time: 3600  # seconds (1 hour)
    min_throughput: "10MB/s"

# üìà Business Continuity
business_continuity:
  backup_testing:
    enabled: true
    frequency: "weekly"
    automated_verification: true

  documentation:
    runbooks: true
    contact_lists: true
    escalation_procedures: true

  training:
    staff_training: true
    regular_drills: true
    certification_required: true