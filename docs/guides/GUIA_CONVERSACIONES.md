# ğŸ“± GUÃA COMPLETA: Sistema de Conversaciones

## ğŸ¯ Â¿QUÃ‰ ES ESTA INTERFAZ?

Es un **chat en vivo** donde puedes comunicarte con clientes que contactan al restaurante. Funciona como WhatsApp o cualquier app de mensajerÃ­a, pero desde el panel de administraciÃ³n.

---

## ğŸ–¥ï¸ ANATOMÃA DE LA INTERFAZ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†] Juan PÃ©rez              [Activa]        [â‹®]        â”‚ â† HEADER
â”‚     +56912345678                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚ Hola, necesito una   â”‚  â† MENSAJE DEL CLIENTE      â”‚
â”‚  â”‚ reserva para 4       â”‚     (izquierda, gris)       â”‚
â”‚  â”‚ personas  ğŸ• 14:30   â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                         â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                    â”‚ Claro, Â¿para quÃ©    â”‚ â† MENSAJE  â”‚
â”‚                    â”‚ dÃ­a?  ğŸ• 14:31      â”‚   TUYO     â”‚
â”‚                    â”‚            [Agente] â”‚   (derecha)â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                         â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                    â”‚ Tenemos disponibili-â”‚ â† RESPUESTAâ”‚
â”‚                    â”‚ dad...  ğŸ• 14:31    â”‚   DEL BOT  â”‚
â”‚                    â”‚               [Bot] â”‚   (azul)   â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Escribe tu respuesta...]                    [âœˆï¸ Enviar]â”‚ â† INPUT
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ FLUJO DE TRABAJO COMPLETO

### **PASO 1: Ver lista de conversaciones**
```
Conversaciones â†’ [Lista de chats activos]
```
AquÃ­ ves todos los clientes que estÃ¡n escribiendo o han escrito recientemente.

### **PASO 2: Abrir una conversaciÃ³n**
```
Click en una conversaciÃ³n â†’ Se abre el chat completo
```
VerÃ¡s todo el historial de mensajes con ese cliente.

### **PASO 3: Responder al cliente**

#### OpciÃ³n A: Respuesta Manual (TÃš escribes)
```
1. Escribe tu mensaje en el campo de texto
2. Presiona ENTER o click en el botÃ³n [âœˆï¸]
3. Tu mensaje aparece a la DERECHA con etiqueta "Agente"
4. El bot (Ollama) responde automÃ¡ticamente
5. La respuesta del bot aparece tambiÃ©n a la DERECHA con etiqueta "Bot"
```

#### OpciÃ³n B: Solo observar
```
- El cliente escribe â†’ Aparece a la IZQUIERDA
- El bot responde automÃ¡ticamente â†’ Aparece a la DERECHA
- TÃº solo monitoreas la conversaciÃ³n
```

### **PASO 4: Intervenir cuando sea necesario**
```
Si el bot no puede responder bien:
1. TÃš escribes un mensaje manualmente
2. Tu mensaje sobrescribe temporalmente al bot
3. El cliente recibe tu respuesta directa
```

---

## â‹® MENÃš DE OPCIONES (3 PUNTOS)

### **1. Cerrar conversaciÃ³n** ğŸš«
- **Â¿QuÃ© hace?** Marca la conversaciÃ³n como "Cerrada"
- **Â¿CuÃ¡ndo usar?** Cuando el cliente ya no necesita ayuda
- **Efecto:** Badge cambia de "Activa" â†’ "Cerrada"

### **2. Asignar agente** ğŸ‘¤
- **Â¿QuÃ© hace?** Asigna la conversaciÃ³n a un agente especÃ­fico
- **Â¿CuÃ¡ndo usar?** Para delegar la conversaciÃ³n a otro miembro del equipo
- **Efecto:** Aparece el nombre del agente asignado en el header

### **3. Ver historial** ğŸ“‹
- **Â¿QuÃ© hace?** Muestra todos los mensajes en formato de texto
- **Â¿CuÃ¡ndo usar?** Para revisar rÃ¡pidamente toda la conversaciÃ³n
- **Efecto:** Abre un popup con el historial completo

### **4. Exportar conversaciÃ³n** ğŸ’¾
- **Â¿QuÃ© hace?** Descarga la conversaciÃ³n completa en formato JSON
- **Â¿CuÃ¡ndo usar?** Para respaldos, anÃ¡lisis o registros legales
- **Efecto:** Descarga archivo `conversation_[ID]_[timestamp].json`

### **5. Eliminar conversaciÃ³n** ğŸ—‘ï¸
- **Â¿QuÃ© hace?** ELIMINA PERMANENTEMENTE la conversaciÃ³n
- **Â¿CuÃ¡ndo usar?** âš ï¸ SOLO si es spam o contenido inapropiado
- **Efecto:** La conversaciÃ³n desaparece completamente (NO SE PUEDE DESHACER)

---

## ğŸ¨ CÃ“DIGO DE COLORES

### **Mensajes del Cliente**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FONDO GRIS               â”‚ â† Cliente
â”‚ Texto negro              â”‚   (izquierda)
â”‚ Sin etiqueta             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Mensajes del Agente (TÃš)**
```
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ FONDO AZUL/PRIMARIO      â”‚ â† Agente
                â”‚ Texto blanco             â”‚   (derecha)
                â”‚ Etiqueta: "Agente"       â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Mensajes del Bot (IA)**
```
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ FONDO AZUL CLARO         â”‚ â† Bot
                â”‚ Texto blanco             â”‚   (derecha)
                â”‚ Etiqueta: "Bot"          â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”” ESTADOS DE CONVERSACIÃ“N

### ğŸŸ¢ **Activa** (verde)
- Cliente estÃ¡ escribiendo o esperando respuesta
- Requiere atenciÃ³n inmediata
- Bot puede responder automÃ¡ticamente

### ğŸŸ¡ **En espera** (amarillo)
- Cliente pausÃ³ la conversaciÃ³n
- Puede volver en cualquier momento
- Mantener monitoreada

### âšª **Cerrada** (gris)
- ConversaciÃ³n finalizada
- Cliente obtuvo lo que necesitaba
- No requiere mÃ¡s atenciÃ³n

---

## ğŸ’¡ EJEMPLOS DE USO REAL

### **Ejemplo 1: Reserva de Mesa**
```
Cliente:  "Hola, quiero hacer una reserva"
Bot:      "Â¡Hola! Â¿Para cuÃ¡ntas personas?"
Cliente:  "4 personas"
Bot:      "Â¿QuÃ© dÃ­a y hora prefieres?"
Cliente:  "MaÃ±ana a las 8pm"
Bot:      "Perfecto, tenemos disponibilidad..."
```
ğŸ‘‰ **TÃº no intervienes** - El bot maneja todo

### **Ejemplo 2: Pregunta Compleja**
```
Cliente:  "Â¿Tienen menÃº sin gluten para celÃ­acos?"
Bot:      "SÃ­, contamos con opciones sin gluten..."
Cliente:  "Â¿Pero estÃ¡n certificadas?"
```
ğŸ‘‰ **AQUÃ INTERVIENES TÃš:**
```
TÃº:       "SÃ­, nuestros platos sin gluten estÃ¡n certificados
           por [entidad]. TambiÃ©n tenemos cocina separada."
```

### **Ejemplo 3: Cliente Enojado**
```
Cliente:  "Â¡Mi pedido llegÃ³ frÃ­o!"
Bot:      "Lamento mucho eso. DÃ©jame ayudarte..."
```
ğŸ‘‰ **INTERVIENES INMEDIATAMENTE:**
```
TÃº:       "Mil disculpas por el inconveniente. Te enviaremos
           un pedido nuevo sin costo. Â¿CuÃ¡l es tu direcciÃ³n?"
```

---

## ğŸš€ TIPS PROFESIONALES

### âœ… **HACER**
- Responder rÃ¡pido (menos de 2 minutos)
- Usar lenguaje amable y profesional
- Dejar que el bot maneje preguntas simples
- Intervenir en situaciones sensibles
- Cerrar conversaciones cuando terminen

### âŒ **NO HACER**
- Dejar conversaciones abiertas sin responder
- Eliminar conversaciones sin razÃ³n
- Ser brusco o cortante
- Ignorar mensajes del cliente
- Dar informaciÃ³n incorrecta

---

## ğŸ”§ SOLUCIÃ“N DE PROBLEMAS

### **"No veo mensajes nuevos"**
âœ… Refresca la pÃ¡gina (F5)
âœ… Verifica que el backend estÃ© corriendo

### **"El bot no responde"**
âœ… Verifica que Ollama estÃ© activo (puerto 11434)
âœ… Revisa los logs del backend

### **"No puedo enviar mensajes"**
âœ… Verifica tu conexiÃ³n a internet
âœ… AsegÃºrate de estar autenticado
âœ… Verifica que la conversaciÃ³n no estÃ© cerrada

### **"El menÃº de opciones no abre"**
âœ… Actualiza la pÃ¡gina
âœ… Verifica que estÃ©s usando un navegador moderno

---

## ğŸ“Š MÃ‰TRICAS IMPORTANTES

### **Tiempo de Respuesta**
- **Ideal:** < 1 minuto
- **Aceptable:** 1-5 minutos
- **Malo:** > 5 minutos

### **Tasa de ResoluciÃ³n**
- **Objetivo:** > 90% resueltos por bot
- **IntervenciÃ³n manual:** < 10%

### **SatisfacciÃ³n del Cliente**
- **Objetivo:** â­â­â­â­â­ (5 estrellas)
- **MÃ­nimo aceptable:** â­â­â­â­ (4 estrellas)

---

## ğŸ“ FLUJO RECOMENDADO PARA NUEVOS AGENTES

### **DÃ­a 1-3: ObservaciÃ³n**
```
1. Solo OBSERVA cÃ³mo el bot maneja conversaciones
2. Identifica patrones comunes de preguntas
3. Aprende el tono y estilo del bot
```

### **DÃ­a 4-7: IntervenciÃ³n Limitada**
```
1. INTERVIENE solo cuando el bot falla
2. Practica respuestas rÃ¡pidas
3. Usa el menÃº de opciones
```

### **DÃ­a 8+: Agente Completo**
```
1. Maneja conversaciones complejas
2. Asigna conversaciones a otros agentes
3. Cierra y organiza conversaciones
4. Exporta datos para reportes
```

---

## ğŸ“ SOPORTE

Â¿Tienes dudas? Contacta al equipo tÃ©cnico:
- Backend: http://localhost:8005
- Admin Panel: http://localhost:7001
- DocumentaciÃ³n API: http://localhost:8005/docs

---

## âœ… CHECKLIST DIARIO

- [ ] Revisar conversaciones activas
- [ ] Responder mensajes pendientes
- [ ] Cerrar conversaciones finalizadas
- [ ] Exportar conversaciones importantes
- [ ] Verificar que el bot estÃ© funcionando
- [ ] Reportar problemas tÃ©cnicos

---

**Â¡Listo! Ahora sabes todo lo necesario para manejar conversaciones profesionalmente. ğŸ‰**
